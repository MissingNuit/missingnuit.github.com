require=function e(t,c,o){function i(s,r){if(!c[s]){if(!t[s]){var n="function"==typeof require&&require;if(!r&&n)return n(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=c[s]={exports:{}};t[s][0].call(h.exports,function(e){var c=t[s][1][e];return i(c?c:e)},h,h.exports,e,t,c,o)}return c[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({CameraManager2:[function(e,t,c){"use strict";cc._RFpush(t,"1f060ETLpxPQZusJBSTWjcz","CameraManager2"),cc.Class({"extends":cc.Component,properties:{bgSky:cc.Node,skySca:0,bgHill:cc.Node,hillSca:0,bgHillnear:cc.Node,hillnearSca:0,bgFloor:cc.Node,floorSca:0,cloudLayer:cc.Node,cloudSca:0,camera:cc.Node,player:cc.Node},init:function(e){this.game=e},moveBg:function(e){this.player.y>this.camera.y+this.camera.height/2&&(this.bgSky.y-=e*this.skySca,this.bgHill.y-=e*this.hillSca,this.bgHillnear.y-=e*this.hillnearSca,this.bgFloor.y-=e*this.floorSca,this.cloudLayer.y-=e*this.cloudSca,this.player.y-=e,this.game.gainScore(Math.round(e/20)))}}),cc._RFpop()},{}],Game2:[function(e,t,c){"use strict";cc._RFpush(t,"3ea655Iad1GZLZu4uqEF48D","Game2");var o=e("PrefabManager2"),i=e("CameraManager2"),a=e("Player2");cc.Class({"extends":cc.Component,properties:{player:a,prefabManager:o,cameraManager:i,scoreText:cc.Label,energyBar:cc.ProgressBar,gameOverMenu:cc.Node,bgAudio:cc.AudioClip,energyAudio:cc.AudioClip,overAudio:cc.AudioClip},onLoad:function(){cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){e==cc.KEY.back&&cc.director.loadScene("Menu")}},this.node),this.startGame()},startGame:function(){cc.director.getCollisionManager().enabled=!0,this.gameOverMenu.active=!1,this.score=0,this.level=0,this.scoreText.string="0m",this.player.init(this),this.cameraManager.init(this),this.prefabManager.init(this),cc.audioEngine.playMusic(this.bgAudio,!0)},stopGame:function(){cc.director.getCollisionManager().enabled=!1,cc.audioEngine.stopMusic(this.bgAudio),cc.audioEngine.playMusic(this.overAudio),this.gameOverMenu.getChildByName("OverScore").getComponent(cc.Label).string=this.score,this.gameOverMenu.active=!0,cc.find("Record").getComponent("Record").updateJumpScore(this.score)},gainScore:function(e){this.scoreText.string=(this.score+=e)+"m",Math.round(this.score/200)>this.level&&(this.level++,this.level>5&&(this.player.xSpeedMax+=50))},gainEnergy:function(){cc.audioEngine.playEffect(this.energyAudio),this.energyBar.progress+=.1,this.energyBar.progress>=.9&&this.player.superJump()},returnMenu:function(){cc.director.loadScene("Menu")}}),cc._RFpop()},{CameraManager2:"CameraManager2",Player2:"Player2",PrefabManager2:"PrefabManager2"}],Load:[function(e,t,c){"use strict";cc._RFpush(t,"1fbb4GZYzxFQqZ7jhMRo6pf","Load"),cc.Class({"extends":cc.Component,properties:{loadBar:cc.ProgressBar},onLoad:function(){var e=function(){this.loadBar.progress+=.01,this.loadBar.progress>.9&&cc.director.loadScene("Menu")};this.schedule(e,.1)}}),cc._RFpop()},{}],Menu:[function(e,t,c){"use strict";cc._RFpush(t,"9e91bB6bvpOvbI6O8lfIvxu","Menu"),cc.Class({"extends":cc.Component,properties:{tipsLabel:cc.Label,tipsText:{type:cc.String,"default":[]},jumpScore:cc.Label},onLoad:function(){this.record=cc.find("Record").getComponent("Record"),this.jumpScore.string="你最高跳了"+this.record.bestJumpScore+"m";var e=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,c){t==cc.KEY.back&&(e.record.save(),cc.director.end())}},e.node);var t=function(){if(e.tipsText.length>0){var t=Math.round(Math.random()*(e.tipsText.length-1));e.tipsLabel.string=e.tipsText[t]}};t(),this.schedule(t,5)},onBtnPlay2:function(){cc.director.loadScene("JumpGame")}}),cc._RFpop()},{}],MoveCloud:[function(e,t,c){"use strict";cc._RFpush(t,"26a14HlIxxF2a7nUeXh0tuz","MoveCloud"),cc.Class({"extends":cc.Component,properties:{moveSpeed:0},update:function(e){this.node.x+=this.moveSpeed*e,(this.node.x<-cc.winSize.width/2+this.node.width/2||this.node.x>cc.winSize.width/2-this.node.width/2)&&(this.moveSpeed=-this.moveSpeed,this.node.scaleX=-this.node.scaleX)}}),cc._RFpop()},{}],Player2:[function(e,t,c){"use strict";cc._RFpush(t,"2a465DkVXFDZ572l/uT+7Av","Player2");var o=cc.Enum({JUMP:0,DROP:1,DEAD:2,SUPERJUMP:3});cc.Class({"extends":cc.Component,properties:{xSpeedMax:0,jumpSpeed:0,gravity:0,groundY:0,jumpAudio:cc.AudioClip,superAudio:cc.AudioClip},init:function(e){this.game=e,this.speedX=0,this.speedY=this.jumpSpeed,this.botPos=this.groundY,this.moveFlag=!0,this.state=o.JUMP;var t=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,c){var o=e.getLocation();return o.x>=cc.winSize.width/2?(t.speedX=t.xSpeedMax,t.node.scaleX=1):(t.speedX=-t.xSpeedMax,t.node.scaleX=-1),!0},onTouchEnded:function(e,t){}},t.node),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,c){switch(e){case cc.KEY.left:t.node.scaleX=-1,t.speedX=-t.xSpeedMax;break;case cc.KEY.right:t.node.scaleX=1,t.speedX=t.xSpeedMax}},onKeyReleased:function(e,t){}},t.node),this.superJump()},onCollisionEnter:function(e,t){444===e.tag&&(this.state=o.DEAD,this.node.color=cc.Color.BLACK,this.game.stopGame()),666===e.tag||777===e.tag?(this.game.prefabManager.desPrefab(e.node,e.tag),this.game.gainEnergy()):this.state===o.DROP&&(this.jump(),2!==e.tag&&5!==e.tag||(this.game.prefabManager.desPrefab(e.node,e.tag),this.game.prefabManager.addPrefab()))},jump:function(){this.state=o.JUMP,this.speedY=this.jumpSpeed,cc.audioEngine.playEffect(this.jumpAudio)},superJump:function(){this.state=o.SUPERJUMP,this.node.color=cc.Color.RED,this.speedY=2*this.jumpSpeed,cc.audioEngine.playEffect(this.superAudio)},update:function(e){this.state!==o.DEAD&&(this.node.x+=this.speedX*e,this.node.x<-cc.winSize.width/2&&(this.node.x=-cc.winSize.width/2),this.node.x>cc.winSize.width/2&&(this.node.x=cc.winSize.width/2),this.speedY-=this.gravity*e,this.node.y+=this.speedY*e,this.speedY<0&&(this.state==o.SUPERJUMP&&(this.game.energyBar.progress=0,this.node.color=cc.Color.WHITE),this.state=o.DROP),this.game.cameraManager.moveBg(this.speedY*e))}}),cc._RFpop()},{}],PrefabManager2:[function(e,t,c){"use strict";cc._RFpush(t,"cbe11FGHQBPG4HRG6BeLqzl","PrefabManager2"),cc.Class({"extends":cc.Component,properties:{cloudLayer:cc.Node,player:cc.Node,cloudPre:{type:cc.Prefab,"default":[]},cloudSpace:0,starPre:{type:cc.Prefab,"default":[]}},init:function(t){this.game=t,this.lastCloudY=-500,this.cloudPoolSet=[];for(var c=0;c<this.cloudPre.length;c++){this.cloudPoolSet[c]=new cc.NodePool(e("Game2"));for(var o=0;o<7;o++)this.cloudPoolSet[c].put(cc.instantiate(this.cloudPre[c]))}this.starPool=[];for(var i=0;i<this.starPre.length;i++){this.starPool[i]=new cc.NodePool(e("Game2"));for(var a=0;a<7;a++)this.starPool[i].put(cc.instantiate(this.starPre[i]))}for(var s=0;s<7;s++)this.addPrefab()},onCollisionEnter:function(e,t){1!==e.tag&&2!==e.tag&&3!==e.tag&&4!==e.tag&&5!==e.tag&&6!==e.tag||(this.desPrefab(e.node,e.tag),this.addPrefab()),666!==e.tag&&777!==e.tag||this.desPrefab(e.node,e.tag)},addPrefab:function(){var e,t;switch(this.game.level){case 0:t=Math.random(),e=t>.5?this.cloudPoolSet[0].get():this.cloudPoolSet[3].get();break;case 1:t=Math.random(),e=t>.9?this.cloudPoolSet[4].get():Math.random()>.5?this.cloudPoolSet[0].get():this.cloudPoolSet[3].get();break;default:t=3*Math.random(),e=t>2?Math.random()>.5?this.cloudPoolSet[5].get():this.cloudPoolSet[2].get():t>1.5?this.cloudPoolSet[4].get():Math.random()>.5?this.cloudPoolSet[3].get():this.cloudPoolSet[0].get()}if(null!==e&&(this.cloudLayer.addChild(e),e.x=-cc.winSize.width/2+e.width/2+Math.random()*(cc.winSize.width-e.width),this.lastCloudY=e.y=this.lastCloudY+this.cloudSpace,Math.random()<.5)){var c;if(c=Math.random()>.5?this.starPool[0].get():this.starPool[1].get(),null===c)return;this.cloudLayer.addChild(c),c.x=-cc.winSize.width/2+e.width/2+Math.random()*(cc.winSize.width-e.width),c.y=e.y+this.cloudSpace/2}},desPrefab:function(e,t){switch(t){case 1:this.cloudPoolSet[0].put(e);break;case 2:this.cloudPoolSet[1].put(e);break;case 3:this.cloudPoolSet[2].put(e);break;case 4:this.cloudPoolSet[3].put(e);break;case 5:this.cloudPoolSet[4].put(e);break;case 6:this.cloudPoolSet[5].put(e);break;case 666:this.starPool[0].put(e);break;case 777:this.starPool[1].put(e)}}}),cc._RFpop()},{Game2:"Game2"}],Record:[function(e,t,c){"use strict";cc._RFpush(t,"dde26OA551B2rWNc4LiCWDI","Record"),cc.Class({"extends":cc.Component,properties:{bestJumpScore:0},onLoad:function(){cc.game.addPersistRootNode(this.node);var e=cc.sys.localStorage.getItem("bestJumpScore");e&&(this.bestJumpScore=e)},updateJumpScore:function(e){e>this.bestJumpScore&&(this.bestJumpScore=e)},save:function(){cc.sys.localStorage.setItem("bestJumpScore",this.bestJumpScore)}}),cc._RFpop()},{}]},{},["CameraManager2","Load","MoveCloud","Player2","Game2","Menu","PrefabManager2","Record"]);